# Public_477

# GIá»šI THIá»†U Vá»€ PYTHON

Python lÃ  ngÃ´n ngá»¯ láº­p trÃ¬nh máº¡nh máº½, há»— trá»£ nhiá»u thÆ° viá»‡n khoa há»c nhÆ° **NumPy** , **Pandas** , **Matplotlib** , **SciPy**. Trong lÄ©nh vá»±c nÄƒng lÆ°á»£ng tÃ¡i táº¡o, Python Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ:

  * MÃ´ phá»ng sáº£n lÆ°á»£ng Ä‘iá»‡n máº·t trá»i theo dá»¯ liá»‡u bá»©c xáº¡.

  * TÃ­nh toÃ¡n hiá»‡u suáº¥t há»‡ thá»‘ng lÆ°u trá»¯ pin.

  * PhÃ¢n tÃ­ch dá»¯ liá»‡u váº­n hÃ nh vÃ  tá»‘i Æ°u hÃ³a cáº¥u hÃ¬nh há»‡ thá»‘ng.


# Há»† THá»NG NÄ‚NG LÆ¯á»¢NG Máº¶T TRá»œI á» MIá»€N THá»œI GIAN (t)

## YÃªu cáº§u trÆ°á»›c khi lÃ m thÃ­ nghiá»‡m 
<table>
<colgroup>
<col/>
</colgroup>
<thead>
<tr>
<th><p>Náº¯m vá»¯ng kiáº¿n thá»©c vá»:</p>
<ul>
<li><p>Bá»©c xáº¡ máº·t trá»i vÃ  cÃ¡c yáº¿u tá»‘ áº£nh hÆ°á»Ÿng.</p></li>
<li><p>NguyÃªn lÃ½ hoáº¡t Ä‘á»™ng cá»§a táº¥m pin quang Ä‘iá»‡n (PV).</p></li>
<li><p>CÃ¡ch tÃ­nh dung lÆ°á»£ng vÃ  hiá»‡u suáº¥t pin lÆ°u trá»¯.</p></li>
</ul></th>
</tr>
</thead>
<tbody>
</tbody>
</table> 

## Má»¥c Ä‘Ã­ch cá»§a pháº§n thÃ­ nghiá»‡m 
<table>
<colgroup>
<col/>
</colgroup>
<thead>
<tr>
<th><p>DÃ¹ng Python mÃ´ phá»ng cÃ¡c ná»™i dung sau:</p>
<ul>
<li><p>CÃ´ng suáº¥t phÃ¡t cá»§a há»‡ thá»‘ng PV theo giá» trong ngÃ y.</p></li>
<li><p>Chu ká»³ sáº¡c/xáº£ cá»§a pin lÆ°u trá»¯.</p></li>
<li><p>Hiá»‡u suáº¥t tá»•ng thá»ƒ cá»§a há»‡ thá»‘ng PV + pin.</p></li>
</ul></th>
</tr>
</thead>
<tbody>
</tbody>
</table> 

## TÃ³m táº¯t lÃ½ thuyáº¿t 

### MÃ´ hÃ¬nh nguá»“n pin máº·t trá»i PV
<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr>
<th>Pin máº·t trá»i PV (Photovoltaic cell) gá»“m cÃ¡c lá»›p bÃ¡n dáº«n chá»‹u tÃ¡c
dá»¥ng cá»§a quang há»c Ä‘á»ƒ biáº¿n Ä‘á»•i cÃ¡c nÄƒng lÆ°á»£ng phÃ´ton bá»©c xáº¡ máº·t trá»i
thÃ nh nÄƒng lÆ°á»£ng Ä‘iá»‡n. Theo quan Ä‘iá»ƒm nÄƒng lÆ°á»£ng Ä‘iá»‡n tá»­, pin máº·t trá»i
cÃ³ thá»ƒ Ä‘Æ°á»£c coi lÃ  nhá»¯ng nguá»“n dÃ²ng biá»ƒu diá»…n má»‘i quan há»‡ phi tuyáº¿n
I-V.</th>
<th rowspan="2">|<image_1>|</th>
</tr>
<tr>
<th>Hiá»‡u suáº¥t cá»§a táº¥m pin máº·t trá»i sáº½ lá»›n nháº¥t khi pin máº·t trá»i cung cáº¥p
cho ta cÃ´ng suáº¥t cá»±c Ä‘áº¡i. Theo Ä‘áº·c tÃ­nh phi tuyáº¿n trÃªn hÃ¬nh 2, nÃ³ sáº½ xáº£y
ra khi P-V lÃ  cá»±c Ä‘áº¡i, tá»©c lÃ  P-V = Pmax táº¡i thá»i Ä‘iá»ƒm (Imax ,Vmax )
Ä‘Æ°á»£c gá»i lÃ  Ä‘iá»ƒm cá»±c Ä‘áº¡i MPP (Maximum Point Power). Há»‡ bÃ¡m Ä‘iá»ƒm cÃ´ng
suáº¥t cá»±c Ä‘áº¡i MPPT (Maximum Point Power Tracking) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘áº£m báº£o
ráº±ng pin máº·t trá»i sáº½ luÃ´n luÃ´n lÃ m viá»‡c á»Ÿ Ä‘iá»ƒm MPP báº¥t cháº¥p táº£i Ä‘Æ°á»£c ná»‘i
vÃ o pin.</th>
</tr>
</thead>
<tbody>
</tbody>
</table> 

### Äá»‹nh nghÄ©a má»™t sá»‘ Ä‘áº¡i lÆ°á»£ng cÆ¡ báº£n 
<table>
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr>
<th><strong>Äáº¡i lÆ°á»£ng</strong></th>
<th><strong>KÃ½ hiá»‡u</strong></th>
<th><strong>CÃ´ng thá»©c</strong></th>
<th><strong>ÄÆ¡n vá»‹</strong></th>
<th><strong>Ã nghÄ©a</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Bá»©c xáº¡ máº·t trá»i</td>
<td><math><semantics><msub><mi>G</mi><mi>t</mi></msub><annotation>G_{t}</annotation></semantics></math></td>
<td></td>
<td>W/mÂ²</td>
<td>NÄƒng lÆ°á»£ng bá»©c xáº¡ tá»›i bá» máº·t táº¥m pin</td>
</tr>
<tr>
<td>Hiá»‡u suáº¥t táº¥m pin</td>
<td><math><semantics><msub><mi>Î·</mi><mrow><mi>p</mi><mi>v</mi></mrow></msub><annotation>\eta_{pv}</annotation></semantics></math></td>
<td></td>
<td>%</td>
<td>Tá»‰ lá»‡ chuyá»ƒn Ä‘á»•i bá»©c xáº¡ thÃ nh Ä‘iá»‡n nÄƒng</td>
</tr>
<tr>
<td>CÃ´ng suáº¥t PV</td>
<td><math><semantics><msub><mi>P</mi><mrow><mi>p</mi><mi>v</mi></mrow></msub><annotation>P_{pv}</annotation></semantics></math></td>
<td><math><semantics><mrow><msub><mi>P</mi><mrow><mi>p</mi><mi>v</mi></mrow></msub><mo>=</mo><msub><mi>G</mi><mi>t</mi></msub><mo>â‹…</mo><mi>A</mi><mo>â‹…</mo><msub><mi>Î·</mi><mrow><mi>p</mi><mi>v</mi></mrow></msub></mrow><annotation>P_{pv} = G_{t} \cdot A \cdot \eta_{pv}</annotation></semantics></math></td>
<td>W</td>
<td>CÃ´ng suáº¥t tá»©c thá»i cá»§a há»‡ PV. Phá»¥ thuá»™c vÃ o bá»©c xáº¡ máº·t trá»i, diá»‡n
tÃ­ch táº¥m pin vÃ  hiá»‡u suáº¥t táº¥m pin</td>
</tr>
<tr>
<td>Dung lÆ°á»£ng pin</td>
<td><math><semantics><msub><mi>C</mi><mrow><mi>b</mi><mi>a</mi><mi>t</mi></mrow></msub><annotation>C_{bat}</annotation></semantics></math></td>
<td></td>
<td>kWh</td>
<td>LÆ°á»£ng Ä‘iá»‡n nÄƒng pin cÃ³ thá»ƒ lÆ°u trá»¯</td>
</tr>
<tr>
<td>Hiá»‡u suáº¥t pin</td>
<td><math><semantics><msub><mi>Î·</mi><mrow><mi>b</mi><mi>a</mi><mi>t</mi></mrow></msub><annotation>\eta_{bat}</annotation></semantics></math></td>
<td></td>
<td>%</td>
<td>Tá»‰ lá»‡ Ä‘iá»‡n nÄƒng thu há»“i so vá»›i khi sáº¡c</td>
</tr>
</tbody>
</table> 

### 2.3.2 Má»™t sá»‘ cÃ´ng thá»©c quan trá»ng 

#### 2.3.2.1 CÃ´ng suáº¥t PV tá»©c thá»i:
<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr>
<th><ol>
<li></li>
</ol></th>
<th><math><semantics><mrow><msub><mi>P</mi><mrow><mi>p</mi><mi>v</mi></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><msub><mi>G</mi><mi>t</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>â‹…</mo><mi>A</mi><mo>â‹…</mo><msub><mi>Î·</mi><mrow><mi>p</mi><mi>v</mi></mrow></msub></mrow><annotation>P_{pv}(t) = G_{t}(t) \cdot A \cdot \eta_{pv}</annotation></semantics></math></th>
</tr>
</thead>
<tbody>
</tbody>
</table> 

#### 2.3.2.2 NÄƒng lÆ°á»£ng PV trong má»™t ngÃ y:
<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr>
<th>[CT2]</th>
<th><math><semantics><mrow><mi>d</mi><mi>t</mi><msub><mi>E</mi><mrow><mi>p</mi><mi>v</mi></mrow></msub><mo>=</mo><msubsup><mo>âˆ«</mo><mn>0</mn><mn>24</mn></msubsup><mrow><msub><mi>P</mi><mrow><mi>p</mi><mi>v</mi></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mspace></mspace><mi>d</mi><mi>t</mi></mrow><annotation>dtE_{pv} = \int_{0}^{24}{P_{pv}(t)}\, dt</annotation></semantics></math></th>
</tr>
</thead>
<tbody>
</tbody>
</table> 

#### 2.3.2.3 Tráº¡ng thÃ¡i sáº¡c pin (SOC):
<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr>
<th>[CT3]</th>
<th><math><semantics><mrow><mi>S</mi><mi>O</mi><mi>C</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>S</mi><mi>O</mi><mi>C</mi><mrow><mo>(</mo><mi>t</mi><mo>âˆ’</mo><mn>1</mn><mo>)</mo></mrow><mo>+</mo><mfrac><mrow><msub><mi>P</mi><mrow><mi>c</mi><mi>h</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>â‹…</mo><msub><mi>Î·</mi><mrow><mi>b</mi><mi>a</mi><mi>t</mi></mrow></msub><mo>âˆ’</mo><msub><mi>P</mi><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>c</mi><mi>h</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mtext>/</mtext><msub><mi>Î·</mi><mrow><mi>b</mi><mi>a</mi><mi>t</mi></mrow></msub></mrow><msub><mi>C</mi><mrow><mi>b</mi><mi>a</mi><mi>t</mi></mrow></msub></mfrac></mrow><annotation>SOC(t) = SOC(t - 1) + \frac{P_{charge}(t) \cdot \eta_{bat} - P_{discharge}(t)\text{/}\eta_{bat}}{C_{bat}}</annotation></semantics></math></th>
</tr>
</thead>
<tbody>
</tbody>
</table> 

### 2.3.3 Má»™t sá»‘ Ä‘á»‹nh nghÄ©a khÃ¡c 
<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr>
<th>Cá»™ng hai nguá»“n nÄƒng lÆ°á»£ng:</th>
<th><p>Náº¿u cÃ³ hai há»‡ PV Ä‘á»™c láº­p:</p>
<p><math><semantics><mrow><msub><mi>P</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mspace></mspace><mo>=</mo><mspace></mspace><msub><mi>P</mi><mrow><mi>p</mi><mi>v</mi><mn>1</mn></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mspace></mspace><mo>+</mo><mspace></mspace><msub><mi>P</mi><mrow><mi>p</mi><mi>v</mi><mn>2</mn></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><annotation>P_{total}(t)\  = \ P_{pv1}(t)\  + \ P_{pv2}(t)</annotation></semantics></math></p></th>
</tr>
</thead>
<tbody>
<tr>
<td>NhÃ¢n vá»›i háº±ng sá»‘ (tÄƒng cÃ´ng suáº¥t):</td>
<td><math><semantics><mrow><msup><mi>P</mi><mi>â€²</mi></msup><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>k</mi><mo>â‹…</mo><msub><mi>P</mi><mrow><mi>p</mi><mi>v</mi></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><annotation>P^{'}(t) = k \cdot P_{pv}(t)</annotation></semantics></math></td>
</tr>
<tr>
<td>Dá»‹ch thá»i gian (mÃ´ phá»ng mÃºi giá» khÃ¡c):</td>
<td><math><semantics><mrow><msup><mi>P</mi><mi>â€²</mi></msup><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><msub><mi>P</mi><mrow><mi>p</mi><mi>v</mi></mrow></msub><mrow><mo>(</mo><mi>t</mi><mspace></mspace><mo>âˆ’</mo><mspace></mspace><mi>Î”</mi><mi>t</mi><mo>)</mo></mrow></mrow><annotation>P^{'}(t) = P_{pv}(t\  - \ \Delta t)</annotation></semantics></math></td>
</tr>
<tr>
<td>Äáº£o thá»i gian (mÃ´ phá»ng ngÆ°á»£c dá»¯ liá»‡u):</td>
<td><math><semantics><mrow><msup><mi>P</mi><mi>â€²</mi></msup><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><msub><mi>P</mi><mrow><mi>p</mi><mi>v</mi></mrow></msub><mrow><mo>(</mo><mo>âˆ’</mo><mi>t</mi><mspace></mspace><mo>)</mo></mrow></mrow><annotation>P^{'}(t) = P_{pv}( - t\ )</annotation></semantics></math></td>
</tr>
<tr>
<td>NÄƒng lÆ°á»£ng lÆ°u trá»¯:</td>
<td><math><semantics><mrow><msub><mi>E</mi><mrow><mi>s</mi><mi>t</mi><mi>o</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>=</mo><munderover><mo>âˆ‘</mo><mi>t</mi><mrow></mrow></munderover><mrow><msub><mi>P</mi><mrow><mi>c</mi><mi>h</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mo>â‹…</mo><msub><mi>Î·</mi><mrow><mi>b</mi><mi>a</mi><mi>t</mi></mrow></msub></mrow><annotation>E_{stored} = \sum_{t}^{}{P_{charge}(t)} \cdot \eta_{bat}</annotation></semantics></math></td>
</tr>
<tr>
<td>CÃ´ng suáº¥t trung bÃ¬nh:</td>
<td><math><semantics><mrow><msub><mi>P</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><mrow><mi>P</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow></mrow><annotation>P_{avg} = \frac{1}{T}\sum_{t = 1}^{T}{P(t)}</annotation></semantics></math></td>
</tr>
</tbody>
</table> 

### 2.3.4 Há»‡ thá»‘ng PV + Pin

_**Há»‡ thá»‘ng báº¥t biáº¿n theo thá»i gian:**_ Náº¿u Ä‘iá»u kiá»‡n bá»©c xáº¡ vÃ  nhiá»‡t Ä‘á»™ khÃ´ng Ä‘á»•i, cÃ´ng suáº¥t PV khÃ´ng Ä‘á»•i theo thá»i gian.

_**Há»‡ thá»‘ng nhÃ¢n quáº£:**_ CÃ´ng suáº¥t táº¡i thá»i Ä‘iá»ƒm t chá»‰ phá»¥ thuá»™c vÃ o dá»¯ liá»‡u bá»©c xáº¡ vÃ  SOC trÆ°á»›c Ä‘Ã³.

_**Há»‡ thá»‘ng á»•n Ä‘á»‹nh:**_ SOC luÃ´n náº±m trong khoáº£ng [0, 1].

PhÆ°Æ¡ng trÃ¬nh cÃ¢n báº±ng nÄƒng lÆ°á»£ng:

$$
P_{load}(t) = P_{pv}(t) + P_{discharge}(t) - P_{charge}(t)
$$

### 2.3.5 Báº£ng dá»¯ liá»‡u mÃ´ phá»ng (vÃ­ dá»¥ 1 ngÃ y)
<table>
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr>
<th><strong>Giá»</strong></th>
<th><p><math><semantics><msub><mi>ğ†</mi><mi>ğ­</mi></msub><annotation>\mathbf{G}_{\mathbf{t}}</annotation></semantics></math></p>
<p><strong>(W/mÂ²)</strong></p></th>
<th><p><math><semantics><msub><mi>ğ</mi><mrow><mi>ğ©</mi><mi>ğ¯</mi></mrow></msub><annotation>\mathbf{P}_{\mathbf{pv}}</annotation></semantics></math></p>
<p><strong>(kW)</strong></p></th>
<th><strong>SOC (%)</strong></th>
<th><math><semantics><mrow><msub><mi>ğ</mi><mrow><mi>ğœ</mi><mi>ğ¡</mi><mi>ğš</mi><mi>ğ«</mi><mi>ğ </mi><mi>ğ</mi></mrow></msub><mrow><mo>(</mo><mrow><mi>ğ¤</mi><mi>ğ–</mi></mrow><mo>)</mo></mrow></mrow><annotation>\mathbf{P}_{\mathbf{charge}}\left( \mathbf{kW} \right)</annotation></semantics></math></th>
<th><math><semantics><mrow><msub><mi>ğ</mi><mrow><mi>ğ</mi><mi>ğ¢</mi><mi>ğ¬</mi><mi>ğœ</mi><mi>ğ¡</mi><mi>ğš</mi><mi>ğ«</mi><mi>ğ </mi><mi>ğ</mi></mrow></msub><mrow><mo>(</mo><mrow><mi>ğ¤</mi><mi>ğ–</mi></mrow><mo>)</mo></mrow></mrow><annotation>\mathbf{P}_{\mathbf{discharge}}\left( \mathbf{kW} \right)</annotation></semantics></math></th>
<th><math><semantics><mrow><msub><mi>ğ</mi><mrow><mi>ğ¥</mi><mi>ğ¨</mi><mi>ğš</mi><mi>ğ</mi></mrow></msub><mrow><mo>(</mo><mrow><mi>ğ¤</mi><mi>ğ–</mi></mrow><mo>)</mo></mrow></mrow><annotation>\mathbf{P}_{\mathbf{load}}\left( \mathbf{kW} \right)</annotation></semantics></math></th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0</td>
<td>0.00</td>
<td>65</td>
<td>0.00</td>
<td>0.50</td>
<td>0.50</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>0.00</td>
<td>62</td>
<td>0.00</td>
<td>0.45</td>
<td>0.45</td>
</tr>
<tr>
<td>2</td>
<td>0</td>
<td>0.00</td>
<td>60</td>
<td>0.00</td>
<td>0.40</td>
<td>0.40</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<td>12</td>
<td>850</td>
<td>2.55</td>
<td>80</td>
<td>1.00</td>
<td>0.00</td>
<td>1.55</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<td>23</td>
<td>0</td>
<td>0.00</td>
<td>68</td>
<td>0.00</td>
<td>0.55</td>
<td>0.55</td>
</tr>
</tbody>
</table>